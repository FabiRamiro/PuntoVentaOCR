<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.pos.puntoventaocr.controllers.ConfiguracionController">
   <children>
      <!-- Título -->
      <HBox alignment="CENTER_LEFT" style="-fx-background-color: #f8f9fa; -fx-padding: 15;">
         <children>
            <Label style="-fx-font-size: 20px; -fx-font-weight: bold;" text="Configuración del Sistema" />
         </children>
      </HBox>

      <!-- Contenido en pestañas -->
      <TabPane VBox.vgrow="ALWAYS">
         <tabs>
            <!-- Configuración General -->
            <Tab text="General">
               <content>
                  <VBox spacing="15.0" style="-fx-padding: 20;">
                     <children>
                        <Label style="-fx-font-weight: bold; -fx-font-size: 14px;" text="Información de la Empresa" />
                        <Separator />
                        <GridPane hgap="10.0" vgap="10.0">
                           <columnConstraints>
                              <ColumnConstraints hgrow="NEVER" minWidth="150.0" />
                              <ColumnConstraints hgrow="ALWAYS" />
                           </columnConstraints>
                           <children>
                              <Label text="Nombre de la Empresa:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                              <TextField fx:id="txtNombreEmpresa" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                              <Label text="RIF/NIT:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                              <TextField fx:id="txtRif" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                              <Label text="Dirección:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                              <TextField fx:id="txtDireccion" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                              <Label text="Teléfono:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                              <TextField fx:id="txtTelefono" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                           </children>
                        </GridPane>
                     </children>
                  </VBox>
               </content>
            </Tab>

            <!-- Configuración de Ventas -->
            <Tab text="Ventas">
               <content>
                  <VBox spacing="15.0" style="-fx-padding: 20;">
                     <children>
                        <Label style="-fx-font-weight: bold; -fx-font-size: 14px;" text="Configuración de Ventas" />
                        <Separator />
                        <GridPane hgap="10.0" vgap="10.0">
                           <columnConstraints>
                              <ColumnConstraints hgrow="NEVER" minWidth="180.0" />
                              <ColumnConstraints hgrow="ALWAYS" />
                           </columnConstraints>
                           <children>
                              <Label text="IVA (%):" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                              <TextField fx:id="txtIva" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                              <Label text="Moneda:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                              <ComboBox fx:id="cmbMoneda" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                              <Label text="Serie de Ventas:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                              <TextField fx:id="txtSerieVentas" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                              <Label text="Mensaje en Ticket:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                              <TextField fx:id="txtMensajeTicket" GridPane.columnIndex="1" GridPane.rowIndex="3" />

                              <CheckBox fx:id="chkPermitirVentaSinStock" text="Permitir venta sin stock" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="4" />
                           </children>
                        </GridPane>
                     </children>
                  </VBox>
               </content>
            </Tab>

            <!-- Configuración OCR -->
            <Tab text="OCR">
               <content>
                  <VBox spacing="15.0" style="-fx-padding: 20;">
                     <children>
                        <Label style="-fx-font-weight: bold; -fx-font-size: 14px;" text="Configuración OCR" />
                        <Separator />
                        <GridPane hgap="10.0" vgap="10.0">
                           <columnConstraints>
                              <ColumnConstraints hgrow="NEVER" minWidth="180.0" />
                              <ColumnConstraints hgrow="ALWAYS" />
                           </columnConstraints>
                           <children>
                              <Label text="Motor OCR:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                              <ComboBox fx:id="cmbMotorOCR" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                              <Label text="Carpeta de archivos:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                              <HBox spacing="10.0" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                 <children>
                                    <TextField fx:id="txtCarpetaArchivos" HBox.hgrow="ALWAYS" />
                                    <Button onAction="#seleccionarCarpeta" text="Examinar" />
                                 </children>
                              </HBox>

                              <CheckBox fx:id="chkValidacionAutomatica" text="Validación automática" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="2" />
                           </children>
                        </GridPane>
                     </children>
                  </VBox>
               </content>
            </Tab>

            <!-- Configuración del Sistema -->
            <Tab text="Sistema">
               <content>
                  <VBox spacing="15.0" style="-fx-padding: 20;">
                     <children>
                        <Label style="-fx-font-weight: bold; -fx-font-size: 14px;" text="Configuración del Sistema" />
                        <Separator />
                        <GridPane hgap="10.0" vgap="10.0">
                           <columnConstraints>
                              <ColumnConstraints hgrow="NEVER" minWidth="180.0" />
                              <ColumnConstraints hgrow="ALWAYS" />
                           </columnConstraints>
                           <children>
                              <Label text="Timeout de Sesión (min):" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                              <TextField fx:id="txtTimeoutSesion" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                              <CheckBox fx:id="chkBackupAutomatico" text="Backup automático" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="1" />

                              <Label text="Ruta de Backup:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                              <HBox spacing="10.0" GridPane.columnIndex="1" GridPane.rowIndex="2">
                                 <children>
                                    <TextField fx:id="txtRutaBackup" HBox.hgrow="ALWAYS" />
                                    <Button onAction="#seleccionarRutaBackup" text="Examinar" />
                                 </children>
                              </HBox>
                           </children>
                        </GridPane>
                     </children>
                  </VBox>
               </content>
            </Tab>

            <!-- NUEVA PESTAÑA: Configuración Bancaria -->
            <Tab text="Datos Bancarios">
               <content>
                  <VBox spacing="15.0" style="-fx-padding: 20;">
                     <children>
                        <Label style="-fx-font-weight: bold; -fx-font-size: 14px;" text="Información Bancaria para Transferencias" />
                        <Separator />

                        <!-- Información importante -->
                        <VBox spacing="5.0" style="-fx-background-color: #e3f2fd; -fx-padding: 10; -fx-border-color: #2196f3; -fx-border-radius: 5;">
                           <children>
                              <Label style="-fx-font-weight: bold; -fx-text-fill: #1976d2;" text="📋 Información Importante:" />
                              <Label text="• RIF/NIT NO es el número de cuenta" />
                              <Label text="• RIF/NIT = Identificación fiscal de tu empresa" />
                              <Label text="• Número de cuenta = Donde recibes las transferencias (20 dígitos)" />
                              <Label text="• Todos estos datos aparecerán en el estado de cuenta de tu banco" />
                           </children>
                        </VBox>

                        <GridPane hgap="10.0" vgap="15.0">
                           <columnConstraints>
                              <ColumnConstraints hgrow="NEVER" minWidth="180.0" />
                              <ColumnConstraints hgrow="ALWAYS" />
                           </columnConstraints>
                           <children>
                              <Label text="🏦 Banco:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                              <VBox spacing="5.0" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                 <children>
                                    <TextField fx:id="txtBancoEmpresa" promptText="Ej: Banco de Venezuela, Banesco, Mercantil..." />
                                    <Label style="-fx-text-fill: #666; -fx-font-size: 11px;" text="Escriba el nombre completo de su banco" />
                                 </children>
                              </VBox>

                              <Label text="💳 Tipo de Cuenta:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                              <ComboBox fx:id="cmbTipoCuenta" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                              <Label text="🔢 Número de Cuenta:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                              <VBox spacing="5.0" GridPane.columnIndex="1" GridPane.rowIndex="2">
                                 <children>
                                    <TextField fx:id="txtCuentaDestino" promptText="Ej: 0102-1234-56-1234567890" />
                                    <Label style="-fx-text-fill: #666; -fx-font-size: 11px;" text="Formato: 20 dígitos con guiones separadores" />
                                 </children>
                              </VBox>

                              <Label text="👤 Nombre del Beneficiario:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                              <VBox spacing="5.0" GridPane.columnIndex="1" GridPane.rowIndex="3">
                                 <children>
                                    <TextField fx:id="txtNombreBeneficiario" promptText="Ej: TU EMPRESA C.A." />
                                    <Label style="-fx-text-fill: #666; -fx-font-size: 11px;" text="Exactamente como aparece en el banco" />
                                 </children>
                              </VBox>

                              <Label text="🆔 RIF/NIT de la Empresa:" GridPane.columnIndex="0" GridPane.rowIndex="4" />
                              <VBox spacing="5.0" GridPane.columnIndex="1" GridPane.rowIndex="4">
                                 <children>
                                    <TextField fx:id="txtRifBancario" promptText="Ej: J-12345678-9" />
                                    <Label style="-fx-text-fill: #666; -fx-font-size: 11px;" text="RIF/NIT para identificación fiscal (NO es el número de cuenta)" />
                                 </children>
                              </VBox>

                              <Label text="📧 Email de Notificación:" GridPane.columnIndex="0" GridPane.rowIndex="5" />
                              <TextField fx:id="txtEmailNotificacion" promptText="email@empresa.com" GridPane.columnIndex="1" GridPane.rowIndex="5" />
                           </children>
                        </GridPane>

                        <!-- Ejemplo visual -->
                        <VBox spacing="5.0" style="-fx-background-color: #f5f5f5; -fx-padding: 10; -fx-border-color: #ddd; -fx-border-radius: 5;">
                           <children>
                              <Label style="-fx-font-weight: bold;" text="📄 Ejemplo de transferencia:" />
                              <Label text="Banco: Banco de Venezuela" />
                              <Label text="Cuenta: 0102-1234-56-1234567890" />
                              <Label text="Beneficiario: MI EMPRESA C.A." />
                              <Label text="RIF: J-12345678-9" />
                           </children>
                        </VBox>
                     </children>
                  </VBox>
               </content>
            </Tab>
         </tabs>
      </TabPane>

      <!-- Botones de acción -->
      <HBox alignment="CENTER_RIGHT" spacing="10.0" style="-fx-padding: 15;">
         <children>
            <Button fx:id="btnGuardar" onAction="#guardarConfiguracion" style="-fx-background-color: #28a745; -fx-text-fill: white;" text="Guardar" />
            <Button fx:id="btnRestaurar" onAction="#restaurarDefecto" text="Restaurar Defecto" />
         </children>
      </HBox>
   </children>
</VBox>
