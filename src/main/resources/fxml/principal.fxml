<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane fx:id="mainPane" xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.pos.puntoventaocr.controllers.PrincipalController">
   <top>
      <VBox>
         <children>
            <!-- Barra de menú -->
            <MenuBar fx:id="menuBar">
               <menus>
                  <!-- Menú Ventas -->
                  <Menu fx:id="menuVentas" text="Ventas">
                     <items>
                        <MenuItem onAction="#nuevaVenta" text="Nueva Venta" />
                        <MenuItem onAction="#historialVentas" text="Historial de Ventas" />
                        <SeparatorMenuItem />
                        <MenuItem onAction="#gestionarDevoluciones" text="Devoluciones" />
                     </items>
                  </Menu>

                  <!-- Menú Productos -->
                  <Menu fx:id="menuProductos" text="Productos">
                     <items>
                        <MenuItem onAction="#gestionarProductos" text="Gestionar Productos" />
                        <MenuItem onAction="#gestionarCategorias" text="Gestionar Categorías" />
                        <SeparatorMenuItem />
                        <MenuItem onAction="#alertasStock" text="Alertas de Stock" />
                        <MenuItem onAction="#inventarioFisico" text="Inventario Físico" />
                     </items>
                  </Menu>

                  <!-- Menú OCR -->
                  <Menu fx:id="menuOCR" text="OCR">
                     <items>
                        <MenuItem onAction="#validarOCR" text="Validar Comprobantes" />
                        <MenuItem onAction="#historialOCR" text="Historial OCR" />
                        <SeparatorMenuItem />
                        <MenuItem onAction="#configurarOCR" text="Configurar OCR" />
                     </items>
                  </Menu>

                  <!-- Menú Reportes -->
                  <Menu fx:id="menuReportes" text="Reportes">
                     <items>
                        <MenuItem onAction="#reporteVentas" text="Reporte de Ventas" />
                        <MenuItem onAction="#reporteProductos" text="Productos Más Vendidos" />
                        <MenuItem onAction="#reporteInventario" text="Reporte de Inventario" />
                        <SeparatorMenuItem />
                        <MenuItem onAction="#reporteGanancias" text="Reporte de Ganancias" />
                     </items>
                  </Menu>

                  <!-- Menú Administración -->
                  <Menu fx:id="menuAdministracion" text="Administración">
                     <items>
                        <MenuItem onAction="#gestionarUsuarios" text="Gestionar Usuarios" />
                        <SeparatorMenuItem />
                        <MenuItem onAction="#configuracionSistema" text="Configuración" />
                        <MenuItem onAction="#bitacoraAcciones" text="Bitácora de Acciones" />
                        <SeparatorMenuItem />
                        <MenuItem onAction="#respaldoBD" text="Respaldo de BD" />
                     </items>
                  </Menu>

                  <!-- Menú Sistema -->
                  <Menu fx:id="menuSistema" text="Sistema">
                     <items>
                        <MenuItem onAction="#cambiarPassword" text="Cambiar Contraseña" />
                        <SeparatorMenuItem />
                        <MenuItem onAction="#acercaDe" text="Acerca de" />
                        <MenuItem onAction="#cerrarSesion" text="Cerrar Sesión" />
                     </items>
                  </Menu>
               </menus>
            </MenuBar>

            <!-- Barra de estado superior -->
            <ToolBar style="-fx-background-color: #e9ecef;">
               <items>
                  <Label text="Usuario: " />
                  <Label fx:id="lblUsuario" style="-fx-font-weight: bold;" text="[Usuario]" />
                  <Separator orientation="VERTICAL" />
                  <Label text="Rol: " />
                  <Label fx:id="lblRol" style="-fx-font-weight: bold;" text="[Rol]" />
                  <Region HBox.hgrow="ALWAYS" />
                  <Label fx:id="lblFechaHora" text="[Fecha y Hora]" />
               </items>
            </ToolBar>
         </children>
      </VBox>
   </top>

   <bottom>
      <!-- Barra de estado inferior -->
      <ToolBar style="-fx-background-color: #f8f9fa;">
         <items>
            <Label fx:id="lblSesionInfo" text="[Información de sesión]" />
            <Region HBox.hgrow="ALWAYS" />
            <Label text="Sistema POS v1.0" style="-fx-text-fill: #6c757d;" />
         </items>
      </ToolBar>
   </bottom>

   <center>
      <!-- El contenido se cargará dinámicamente aquí -->
   </center>
</BorderPane>
